## 5.ВЫБОР ПЛАТФОРМЫ. РАЗРАБОТКА СМАРТ-КОНТРАКТА.

### Функции платформ

-Предоставление кошелька для получения/отправки криптовалюты.

-Создание токена.

-Создание смарт-контракта или децентрализованного приложения.

-Процессинг транзакций.

-Процессинг смарт-контрактов.

-Возможность продавать токен на встроенной бирже (если  есть).


### Блокчейн-платформы

//Здесь табличка со слайда 56 (лучше, конечно, актуализированная). Соответственно, возможно, потребуется немного изменить текст описания.

Вот примерная таблица, в которой перечислено несколько платформ. И, соответственно, проставлено наличие или отсутствие всех стандартных функций: кошелёк, процессинг, транзакции, создание транзакций, смарт-контракт и так далее.  Естественно, нужно понимать, что платформы развиваются и функционал у них развивается тоже.


### Концепция смарт-контракта

СК - это обычный алгоритм, который автоматически осуществляет финансовые транзакции при наступлении заранее обусловленных событий или включении триггеров условий.

Примеры простых СК:

-Послать по адресу количество токенов, если от получателя пришло соответствующее количество крипты;

-Послать по адресу электронный документ, если с этого адреса поступили деньги;

-Открыть доступ к разделу файлов пользователю, если от него поступили деньги;

-Послать по адресу нужное количество токенов, если пользователь совершил действие на сайте;

-Получить автоматически от пользователя нужное количество токенов, если пользователь совершил действие на сайте.

Концепция смарт-контракта - это очень важная концепция, одна из центральных. И очень перспективная. Что делает смарт-контракт? Он смотрит, что на кошелёк поступило какое-то количество крипты от такого-то адресата. И он смотрит, сколько по номиналу надо ему выгрузить токенов. И отправляет их. Это такой обменник тематический. Или, допустим, послать по адресу электронный документ, если за него поступили деньги. Это типичный пример, как на сайтах платёжка прикручена. То есть это просто алгоритм, который выполняет простое действие: принимает и отправляет деньги. В общем случае - принимает и отправляет электронный документ. Потому что виртуальные деньги - это тоже в каком-то смысле разновидность электронного документа. И, по большому счёту, логика эта была до блокчейна. Многие сталкивались с ней, когда оплачивали какие-то сервисы в интернете - это всё алгоритмы делают. И в этом смысле ничего нового нет.

Возникает вопрос: а в чём тогда фишка? И причём здесь блокчейн? Если всё само по себе идеологически реализовывается - в чём существенная инновация? 

А дело вот в чём. Алгоритмы, конечно же, были и до этого, но они все централизованы. Они все на сервере. К примеру, платёжная система на сайте. Это означает, что, в принципе, хотя алгоритм всё делает автоматически, владелец сайта по своему желанию в любой момент может этот алгоритм поменять, как ему это выгодно. Или админ, или кто угодно, злоумышленник какой-нибудь. Всё, что угодно может поменять. Поэтому, хотя формально программа работает автоматически, потому что это компьютерный код, но она всё время имеет возможность быть модифицированной в интересах сторон. 

А смарт-контракт загружается в блокчейн. Это означает, что, во-первых, его условия не могут быть изменены. А во-вторых, они не зависят дальше ни от кого, всё будет сделано автоматически. И получается, что человек может иметь дело с кем угодно, ему асболютно безразлично, знает он что-то о другой стороне, компании, или нет. То есть смарт-контракт будет исполнен автоматом. Именно поэтому при серьёзном ICO делают смарт-контракты. Можно, конечно, и без них - просто указывать кошелёк и собирать на него деньги. Но это никак не защищает от мошенничества. Допустим, набрал человек 300-400 тысяч долларов и пропал. Много ему не надо. И деньги уже никак не вернуть. А ели есть смарт-контракт, особенно привязанный к условиям, то это даёт достаточно серьёзную гарантию, что такого произойти в принципе не может. И это, соответственно, приводит к тому, что во всю эту историю может вовлекаться очень много людей как раз благодаря таким безопасным условиям инвестирования.

Однако есть у смарт-контрактов и отрицательные моменты. Если в коде ошибка, то деньги можно потерять. Потому что смарт-контракт продолжает работать, деньги продолжают собираться, но работает он неправильно. И в такой ситуации компания должна принять решение. Отменить этот контракт нельзя - он же в блокчейне. Компания заявляет, что больше тот смарт-контракт не поддерживается, запускается новая версия. В итоге возникает конфликт с теми, кто работал на старом. В Этериуме такое произошло. Это издержки того, что любой код может иметь какие-то программные, логические ошибки. И здесь очень много голосов раздаётся, что это неудобно, надо было его изменять. Но это неправильно, ведь нарушается самая главная идеология. Потому что если человек может задним числом входить в смарт-контракт, то это означает, что он может мошенничать. Именно поэтому смарт-контракт хорошо и нужно публиковать в открытом доступе. Потому что любой может посмотреть аудит кода и увидеть, что он функциональный, что в нём нет игр, закладок и так далее. 

### Пара слов об оракулах

Теперь немного об оракулах, что это такое. Смарт контракт работает по простой схеме: когда наступает некое количество условий, какой-то триггер, то просто реализуется программа. Как со светофором: зелёный свет загорелся – человек идёт, красный - стоит. Стояние – это процесс, некий сценарий действий. Когда человек идёт - это другой сценарий. Вот это пример простейшего алгоритма. Человек постоянно смотрит на светофор, периодически взгляд туда бросает - происходит своего рода опрос источника данных. Этот процесс повторяется циклически, потому что не известно, когда сигнал изменится. Но человек не просто смотрит, он каждый раз анализирует сигнал. И дальше происходит следующее: если сигнал красный - продолжает опрашивать (продолжает смотреть на светофор), а если вдруг видит, что сигнал зелёный, то прекращает смотреть на светофор, а смотрение - это тоже программа, и запускает следующую программу - идти либо ехать.  

Точно так же работает смарт-контракт. Он всё время ожидает наступления каких-то условий либо триггеров. Если эти триггеры сработали, т.е. состояние регистров данных поменялось, то просто запускается программа. Как это работает? Допустим, он смотрит состояние кошелька, изменилось оно или нет. Если кто-то переслал на кошелёк деньги, состояние изменилось. Смарт-контракт видит, что деньги перечислены, и запускает программу, чтобы посмотреть, от кого возникли деньги, сколько этих денег перечислено, пересчитывает их в стоимость токена по курсу и направляет эти токены на кошелёк адресата. Это простейший смарт контракт. 

Но для того, чтобы он работал, особенно, если он работает с данными не внутри блокчейна, а вообще с любыми данными, он должен эти данные откуда-то брать. Поэтому разработана концепция, которая получила название Оракул. Это специальный программный код, который забирает данные из внешних источников и транслирует их в смарт-контракт. 

Простой пример. Представим машину Тесла. Она генерирует огромное количество данных, которые сами по себе уходят куда-то в облако. И мы хотим что-то в Тесле связать со смарт-контрактом, к примеру, сделать систему автоматического начисления штрафов, если водитель нарушил правила. Раз автопилот, по идее, правила не нарушает, он может спокойно следить за водителем. И если произошла определённая ситуация, то автопилот просто где-то в облаке делает запись, что вот такой-то человек нарушил правила. И оттуда эти данные приходят в программу-оракул, которая всё это перепаковывает и направляет в смарт-контаркт. А смарт-контракт, получив сигнал от оракула, заходит на привязанный криптокошелек владельца и списывает какое-то количество токенов или криптовалют. Вот так это примерно работает. Оракул – это некий мостик между реальным миром и виртуальным.